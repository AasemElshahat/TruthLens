# TruthLens - Claude Code Project Documentation

## Project Overview
TruthLens is a private implementation of an AI-powered fact-checking system, building on the ClaimeAI project foundation. This system breaks down text into verifiable claims, cross-references them with web search evidence, and generates detailed accuracy reports with full transparency.

**Academic Foundation**: This project serves as the technical implementation for a bachelor's thesis at Berliner Hochschule fÃ¼r Technik, with the goal of creating a production-ready Chrome extension.

**Business Vision**: Bootstrap a sustainable fact-checking service from thesis to multi-million dollar potential through technical excellence and user-centric design.

## Repository Setup History

### Initial Setup (2025-09-09)
1. **Forked Original Repository**: Initially forked from `https://github.com/BharathxD/ClaimeAI.git`
2. **Privacy Issue Identified**: GitHub forks cannot be made private
3. **Solution Implemented**: Created a new private repository `TruthLens` and imported all code
4. **Clean Local Setup**: Removed fork directory and cloned private repository

### Current Repository Configuration
- **Private Repository**: `https://github.com/AasemElshahat/TruthLens.git`
- **Origin Remote**: Points to private TruthLens repository
- **Upstream Remote**: Points to original ClaimeAI repository (`https://github.com/BharathxD/ClaimeAI.git`)

### Privacy & Security
- âœ… Repository is completely private
- âœ… All work remains invisible to public
- âœ… Can stay updated with upstream changes
- âœ… Changes push to private repository only
- âœ… Full ownership and control of intellectual property

## Strategic Development Approach

### Elite Expert Agent Strategy
Our development strategy leverages Claude Code to build 15 elite expert agents with deep domain knowledge for complete product lifecycle coverage:

**Agent Creation Strategy:**
- **Build Foundation First**: Create all 15 agents in 3-4 days before starting development
- **Elite Expertise**: Each agent has comprehensive knowledge of best practices, patterns, and trade-offs
- **Long-term Investment**: One-time creation pays dividends throughout entire project lifecycle
- **Perfect Coverage**: No gaps in product development, growth, or scaling
- **Consistent Quality**: Elite-level outputs without repeated context provision

**Complete 15-Agent Elite Team:**

**Core Development (4 Agents):**
1. ğŸ”¬ **Research Expert** - Academic methodology, thesis requirements, evaluation frameworks
2. ğŸ **Backend Expert** - Python, LangGraph, APIs, microservices architecture  
3. ğŸŒ **Extension Expert** - WXT, Chrome APIs, TypeScript, shadcn/ui, cross-platform
4. ğŸ“Š **Evaluation Expert** - Academic metrics, benchmarking, statistical analysis

**Quality & Performance (4 Agents):**
5. ğŸ§ª **QA Expert** - Testing strategies, automation, code review, documentation standards
6. âš¡ **Performance Expert** - Optimization, caching, scaling, load testing
7. ğŸ›¡ï¸ **Security Expert** - Web security, privacy, compliance, penetration testing
8. ğŸ”§ **DevOps Expert** - Infrastructure, CI/CD, deployment, monitoring, cost optimization

**Product & Design (2 Agents):**
9. ğŸ¨ **Design Expert** - UX + Visual Design + Brand Identity + Marketing Materials
10. ğŸ“± **Data & Analytics Expert** - Product analytics, user behavior, BI, predictive analytics

**Business & Growth (5 Agents):**
11. ğŸ“¢ **Marketing & Content Expert** - Content strategy, SEO, PR, social media, messaging
12. ğŸ“ˆ **Growth Expert** - Metrics, experiments, user acquisition, conversion optimization  
13. ğŸ“ **Customer Success Expert** - Onboarding, support, feature adoption, churn prevention
14. ğŸ’° **Business Expert** - Pricing, financial modeling, market analysis, legal basics
15. ğŸ¢ **Enterprise Expert** - B2B sales, compliance, partnerships, enterprise features

### Technical Excellence Philosophy
**Non-Negotiable Standards:**
- No technical compromises that create future debt
- Architecture designed for multi-million user scale from day one
- Comprehensive testing and documentation
- Security-first development approach
- Performance optimization at every level
- Maintainable, clean, well-documented code

## Development Workflow

### Daily Development Process
1. **Planning**: Use TodoWrite tool to track all tasks and progress
2. **Implementation**: Leverage specialized subagents for different components
3. **Quality Assurance**: Continuous testing and code review
4. **Documentation**: Real-time documentation updates
5. **Performance Monitoring**: Track metrics and optimize continuously

### Repository Management
```bash
# Stay updated with upstream
git fetch upstream
git merge upstream/main

# Push your changes to private repo
git push origin main
```

### Subagent Coordination
- **Task Assignment**: Use TodoWrite to coordinate between different specialized agents
- **Quality Gates**: Each component must pass QA review before integration
- **Architecture Reviews**: Regular assessment of scaling and performance implications
- **Knowledge Sharing**: Document decisions and learnings in respective files

## Project Structure & Documentation

### Core Documentation Files
- **`PROJECT_VISION.md`**: Product vision, user personas, success metrics, competitive positioning
- **`PRODUCT_ROADMAP.md`**: Bootstrap strategy, technical roadmap, financial projections, scaling plans
- **`CLAUDE.md`**: Technical development approach, workflows, architecture decisions (this file)

### Technical Architecture
```
TruthLens/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ agent/              # Core fact-checking backend
â”‚   â”‚   â”œâ”€â”€ claim_extractor/    # Claimify methodology implementation
â”‚   â”‚   â”œâ”€â”€ claim_verifier/     # Evidence retrieval and verification
â”‚   â”‚   â”œâ”€â”€ fact_checker/       # Orchestration and reporting
â”‚   â”‚   â””â”€â”€ utils/              # Shared utilities and abstractions
â”‚   â”œâ”€â”€ extension/          # Chrome extension (TypeScript)
â”‚   â””â”€â”€ web/               # Web interface (Next.js)
â”œâ”€â”€ docs/                  # Technical documentation
â””â”€â”€ scripts/              # Development and deployment scripts
```

## Current Development Status

### Phase 1: Academic Foundation (Oct 2025 - Jan 2026)
**Current Focus**: Thesis requirements with production-ready architecture

#### Completed âœ…
- [x] Repository setup and privacy configuration
- [x] Strategic planning and documentation framework
- [x] Development approach with specialized subagents
- [x] Technical architecture principles established
- [x] **Elite Agent Foundation Built**: 4 A+ world-class expert agents created
  - [x] ğŸ”¬ Research Expert - Academic methodology + market intelligence + revenue research
  - [x] ğŸ Backend Expert - Production architecture + cost optimization + revenue engineering  
  - [x] ğŸŒ Extension Expert - Cross-platform growth + viral mechanics + conversion optimization
  - [x] ğŸ“Š Evaluation Expert - Statistical measurement + academic validation + revenue attribution
- [x] **Elite Template Standard**: Perfect A+ agent template for remaining 11 agents
- [x] **Cross-Agent Workflow**: Established collaboration protocols and success metrics

#### In Progress ğŸ”„
- [ ] Complete remaining 11 elite expert agents (using proven A+ template)
- [ ] Deep dive into Claimify and SAFE methodologies  
- [ ] System architecture design for scalability
- [ ] Development environment setup
- [ ] Multi-LLM abstraction layer planning

#### Next Steps ğŸ“‹
**Current Priority: Complete Remaining Elite Expert Agents (11 agents)**

**COMPLETED: Core Development Agents (4 Agents) âœ…**
1. [x] **ğŸ”¬ Research Expert** - Academic methodology, thesis requirements, evaluation frameworks
2. [x] **ğŸ Backend Expert** - Python, LangGraph, APIs, microservices architecture  
3. [x] **ğŸŒ Extension Expert** - WXT, Chrome APIs, TypeScript, shadcn/ui, cross-platform
4. [x] **ğŸ“Š Evaluation Expert** - Academic metrics, benchmarking, statistical analysis

**NEXT: Quality & Performance Agents (4 Agents):**

5. [ ] **ğŸ§ª QA Expert** - Testing strategies, automation, code review, documentation standards
6. [ ] **âš¡ Performance Expert** - Optimization, caching, scaling, load testing
7. [ ] **ğŸ›¡ï¸ Security Expert** - Web security, privacy, compliance, penetration testing
8. [ ] **ğŸ”§ DevOps Expert** - Infrastructure, CI/CD, deployment, monitoring, cost optimization

**Product & Design Agents (2 Agents):**
9. [ ] **ğŸ¨ Design Expert** - UX + Visual Design + Brand Identity + Marketing Materials
10. [ ] **ğŸ“± Data & Analytics Expert** - Product analytics, user behavior, BI, predictive analytics

**Business & Growth Agents (5 Agents):**
11. [ ] **ğŸ“¢ Marketing & Content Expert** - Content strategy, SEO, PR, social media, messaging
12. [ ] **ğŸ“ˆ Growth Expert** - Metrics, experiments, user acquisition, conversion optimization  
13. [ ] **ğŸ“ Customer Success Expert** - Onboarding, support, feature adoption, churn prevention
14. [ ] **ğŸ’° Business Expert** - Pricing, financial modeling, market analysis, legal basics
15. [ ] **ğŸ¢ Enterprise Expert** - B2B sales, compliance, partnerships, enterprise features

**Elite Agent Success:** 4/15 A+ agents completed with perfect template established

**Technical Development Steps (After Agents are Built):**
- [ ] Google Gemini API integration alongside OpenAI
- [ ] Chrome extension core functionality development (WXT + shadcn/ui)
- [ ] Transparency features implementation
- [ ] Comparative evaluation framework setup

### Success Metrics for Current Phase
- **Technical**: All core functionality working with <10s response time
- **Academic**: Thesis requirements met with comparative LLM analysis
- **Quality**: 90%+ code coverage, comprehensive documentation
- **Performance**: Extension works on 90% of tested websites

## Development Guidelines

### Code Quality Standards
- **TypeScript**: Strict mode, comprehensive type definitions
- **Python**: Type hints, docstrings, PEP 8 compliance
- **Testing**: Unit tests, integration tests, end-to-end tests
- **Documentation**: Inline comments, README files, API documentation
- **Security**: Input validation, secure API handling, privacy protection

### Performance Requirements
- **Response Time**: <3 seconds for fact-checking (target), <10 seconds (acceptable)
- **Accuracy**: >90% verification accuracy rate
- **Reliability**: 99.9% uptime target
- **Scalability**: Architecture supports 1M+ users without major rewrites

### Development Environment
- **Primary IDE**: Claude Code with specialized subagents
- **Version Control**: Git with conventional commits
- **Package Management**: pnpm for Node.js, Poetry for Python
- **Process Orchestration**: LangGraph for AI workflows
- **Testing**: Jest/Vitest for frontend, pytest for backend

## Testing Strategy

### Academic Validation
- Comparative analysis between Gemini and OpenAI implementations
- User study with 5-10 participants
- Quantitative evaluation on curated test dataset
- Performance benchmarking and optimization

### Production Readiness
- Cross-browser compatibility testing
- Website compatibility testing (90% success rate target)
- Load testing and performance optimization
- Security testing and vulnerability assessment
- User experience testing and optimization

## Deployment & Infrastructure

### Development Stack (Current)
- **Backend**: Python, LangGraph, FastAPI
- **Frontend**: TypeScript, React, Chrome Extension APIs
- **Database**: PostgreSQL with proper indexing
- **Caching**: Redis for performance optimization
- **APIs**: OpenAI, Google Gemini, Tavily Search
- **Hosting**: Fly.io (backend), Vercel (web), Chrome Web Store (extension)

### Scalability Preparation
- **Microservices**: Separate services for different components
- **Queue System**: Redis/BullMQ for async processing
- **CDN**: Global content delivery for static assets
- **Auto-scaling**: Kubernetes-ready container architecture
- **Monitoring**: Comprehensive logging and metrics collection

## Risk Management & Contingencies

### Technical Risks
- **API Rate Limits**: Multiple provider support, caching strategies
- **Performance Issues**: Comprehensive optimization and monitoring
- **Security Vulnerabilities**: Regular security audits and updates
- **Scaling Challenges**: Architecture designed for scale from start

### Business Risks
- **Competition**: Academic credibility and transparency as differentiators
- **User Adoption**: Focus on user experience and demonstrable value
- **Cost Management**: Efficient caching and rate limiting strategies
- **Platform Dependencies**: Multi-browser and multi-platform approach

## Communication & Collaboration

### With Claude Code
- Use TodoWrite for all task tracking and progress monitoring
- Leverage specialized subagents for domain expertise
- Maintain clear context and progress documentation
- Regular architecture and performance reviews

### Documentation Standards
- Real-time updates to reflect current status
- Clear task assignments and completion criteria
- Comprehensive decision logging and rationale
- Regular review and refinement of strategies

---

## Quick Reference Commands

### Development
```bash
# Start development environment
pnpm dev

# Run all tests
pnpm test

# Build for production
pnpm build

# Type checking
pnpm type-check

# Linting
pnpm lint
```

### Database
```bash
# Generate migrations
pnpm db:generate

# Push schema changes
pnpm db:push

# Database studio
pnpm db:studio
```

---

## Elite Agent Team Progress

### Current Status: 4/15 A+ Elite Agents Complete ğŸ¯

**Completed Elite Agents:**
- **ğŸ”¬ Research Expert**: Academic methodology + Market intelligence + Revenue research
- **ğŸ Backend Expert**: Production architecture + Cost optimization + Revenue engineering  
- **ğŸŒ Extension Expert**: Cross-platform growth + Viral mechanics + Conversion optimization
- **ğŸ“Š Evaluation Expert**: Statistical measurement + Academic validation + Revenue attribution

**Elite Agent Capabilities:**
- World-class domain expertise with 12-15+ years equivalent experience
- Bootstrap-to-millions mindset with revenue impact focus
- Cross-team collaboration protocols established
- Specific success metrics targeting multi-million user scale
- Perfect A+ template created for remaining 11 agents

**Agent Creation Workflow Established:**
1. Perplexity research prompt for cutting-edge domain insights
2. Agent creation using `/agents` command with research integration
3. A+ template overlay for consistency and elite standards
4. Cross-agent collaboration protocols and success metrics

**Agent Tracking System:**
- **Agent IDs**: Sequential numbering (1-15) matching the strategic roadmap
- **Categories**: Core Development, Quality & Performance, Product & Design, Business & Growth
- **Version Control**: Semantic versioning with last_updated timestamps
- **Cross-Reference Validation**: All agents mapped to strategic framework for consistency

**Complete Agent ID Mapping:**

**Core Development (IDs 1-4):**
- ID 1: ğŸ”¬ Research Expert - Academic methodology, evaluation frameworks âœ…
- ID 2: ğŸ Backend Expert - Python, LangGraph, APIs, microservices âœ…  
- ID 3: ğŸŒ Extension Expert - WXT, Chrome APIs, TypeScript, shadcn/ui âœ…
- ID 4: ğŸ“Š Evaluation Expert - Academic metrics, benchmarking, statistical analysis âœ…

**Quality & Performance (IDs 5-8):**
- ID 5: ğŸ§ª QA Expert - Testing strategies, automation, code review
- ID 6: âš¡ Performance Expert - Optimization, caching, scaling, load testing
- ID 7: ğŸ›¡ï¸ Security Expert - Web security, privacy, compliance, penetration testing
- ID 8: ğŸ”§ DevOps Expert - Infrastructure, CI/CD, deployment, monitoring

**Product & Design (IDs 9-10):**
- ID 9: ğŸ¨ Design Expert - UX + Visual Design + Brand Identity + Marketing Materials
- ID 10: ğŸ“± Data & Analytics Expert - Product analytics, user behavior, BI

**Business & Growth (IDs 11-15):**
- ID 11: ğŸ“¢ Marketing & Content Expert - Content strategy, SEO, PR, social media
- ID 12: ğŸ“ˆ Growth Expert - Metrics, experiments, user acquisition, optimization  
- ID 13: ğŸ“ Customer Success Expert - Onboarding, support, feature adoption
- ID 14: ğŸ’° Business Expert - Pricing, financial modeling, market analysis
- ID 15: ğŸ¢ Enterprise Expert - B2B sales, compliance, partnerships

---

*Last updated: 2025-09-11*  
*Current milestone: Complete remaining 11 elite expert agents using proven A+ template*  
*Strategic documents: docs/strategy/project-vision.md, docs/strategy/product-roadmap.md*  
*Elite Agent Progress: 4/15 A+ agents complete with perfect foundation established*
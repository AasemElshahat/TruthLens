# TruthLens - Claude Code Project Documentation

## Project Overview
TruthLens is a private implementation of an AI-powered fact-checking system, building on the ClaimeAI project foundation. This system breaks down text into verifiable claims, cross-references them with web search evidence, and generates detailed accuracy reports with full transparency.

**Academic Foundation**: This project serves as the technical implementation for a bachelor's thesis at Berliner Hochschule f√ºr Technik, with the goal of creating a production-ready Chrome extension.

**Business Vision**: Bootstrap a sustainable fact-checking service from thesis to multi-million dollar potential through technical excellence and user-centric design.

## Repository Setup History

### Initial Setup (2025-09-09)
1. **Forked Original Repository**: Initially forked from `https://github.com/BharathxD/ClaimeAI.git`
2. **Privacy Issue Identified**: GitHub forks cannot be made private
3. **Solution Implemented**: Created a new private repository `TruthLens` and imported all code
4. **Clean Local Setup**: Removed fork directory and cloned private repository

### Current Repository Configuration
- **Private Repository**: `https://github.com/AasemElshahat/TruthLens.git`
- **Origin Remote**: Points to private TruthLens repository
- **Upstream Remote**: Points to original ClaimeAI repository (`https://github.com/BharathxD/ClaimeAI.git`)

### Privacy & Security
- ‚úÖ Repository is completely private
- ‚úÖ All work remains invisible to public
- ‚úÖ Can stay updated with upstream changes
- ‚úÖ Changes push to private repository only
- ‚úÖ Full ownership and control of intellectual property

## Strategic Development Approach

### Hybrid Advisory-Implementation Specialist Strategy
Our development strategy leverages Claude Code to build a 7-agent hybrid team orchestrated by a Technical Product Manager for optimal coordination and execution:

**Hybrid Team Strategy:**
- **Technical Product Manager Orchestration**: Single point of contact eliminates coordination complexity
- **Advisory + Implementation Capability**: Each specialist both guides strategically AND builds solutions
- **Manageable Complexity**: 7 specialists with clear coordination vs. overwhelming 15-agent management
- **Thesis + Commercial Focus**: Balanced approach serving academic requirements and business foundation
- **Professional Objectivity**: Specialists challenge approaches while implementing better alternatives

**Complete 7-Agent Hybrid Team:**

**Primary Orchestrator:**
1. üéØ **Technical Product Manager** - Primary interface, GitHub project management, documentation oversight, specialist coordination

**Hybrid Advisory-Implementation Specialists:**
2. üî¨ **Research & Evaluation Specialist** - Academic methodology + statistical analysis + thesis implementation + evaluation pipeline development
3. üèóÔ∏è **Full-Stack Technical Specialist** - Backend (Python, LangGraph, APIs) + Frontend (Extension, TypeScript, shadcn/ui) + Infrastructure (DevOps, deployment)
4. üé® **Product & UX Specialist** - User experience design + visual design + user research + interface implementation
5. üöÄ **Business & Growth Specialist** - Business strategy + growth experiments + marketing + analytics implementation
6. üõ°Ô∏è **Security & Performance Specialist** - Web security + performance optimization + quality assurance + compliance implementation
7. üìä **Data & Analytics Specialist** - Product analytics + user behavior analysis + data visualization + measurement system implementation

### Technical Excellence Philosophy
**Non-Negotiable Standards:**
- No technical compromises that create future debt
- Architecture designed for multi-million user scale from day one
- Comprehensive testing and documentation
- Security-first development approach
- Performance optimization at every level
- Maintainable, clean, well-documented code

## Development Workflow

### Daily Development Process
1. **Planning**: Use TodoWrite tool to track all tasks and progress
2. **Implementation**: Leverage specialized subagents for different components
3. **Quality Assurance**: Continuous testing and code review
4. **Documentation**: Real-time documentation updates
5. **Performance Monitoring**: Track metrics and optimize continuously

### Repository Management
```bash
# Stay updated with upstream
git fetch upstream
git merge upstream/main

# Push your changes to private repo
git push origin main
```

### Technical Product Manager Coordination
- **Single Interface**: Technical PM serves as primary contact for all development requests
- **Specialist Orchestration**: Technical PM routes requests and coordinates multi-specialist work
- **GitHub Project Management**: Technical PM creates issues, manages sprints, tracks progress
- **Documentation Oversight**: Technical PM maintains project knowledge and specialist context
- **Quality Integration**: Technical PM ensures specialist work integrates cohesively

## Project Structure & Documentation

### Core Documentation Files
- **`PROJECT_VISION.md`**: Product vision, user personas, success metrics, competitive positioning
- **`PRODUCT_ROADMAP.md`**: Bootstrap strategy, technical roadmap, financial projections, scaling plans
- **`CLAUDE.md`**: Technical development approach, workflows, architecture decisions (this file)

### Technical Architecture
```
TruthLens/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ agent/              # Core fact-checking backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ claim_extractor/    # Claimify methodology implementation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ claim_verifier/     # Evidence retrieval and verification
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fact_checker/       # Orchestration and reporting
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/              # Shared utilities and abstractions
‚îÇ   ‚îú‚îÄ‚îÄ extension/          # Chrome extension (TypeScript)
‚îÇ   ‚îî‚îÄ‚îÄ web/               # Web interface (Next.js)
‚îú‚îÄ‚îÄ docs/                  # Technical documentation
‚îî‚îÄ‚îÄ scripts/              # Development and deployment scripts
```

## Current Development Status

### Phase 1: Strategic Foundation & Team Setup (September 2025 - October 2025)
**Current Focus**: Optimized 7-agent hybrid team creation with Technical Product Manager orchestration

#### Completed ‚úÖ
- [x] **Repository Setup & Privacy Configuration**: Private TruthLens repository with full IP ownership
- [x] **Strategic Model Evolution**: Critically evaluated and optimized from 15-agent to 7-agent hybrid approach
- [x] **Complete Documentation Overhaul**: Updated all strategic documents for hybrid advisory-implementation model
  - [x] Agent Strategy Document (7-agent hybrid team structure)
  - [x] Agent Creation Framework (hybrid advisory-implementation approach)
  - [x] Technical Product Manager Specification (orchestrator role definition)
  - [x] Project Vision & Product Roadmap alignment
- [x] **Professional Objectivity Framework**: Validated agent behavior framework that challenges suboptimal approaches
- [x] **Legacy Agent Foundation**: 4 existing agents ready for hybrid transformation
  - [x] Research Expert (ready to become Research & Evaluation Specialist)
  - [x] Backend Expert (ready to become part of Full-Stack Technical Specialist)  
  - [x] Extension Expert (ready to become part of Full-Stack Technical Specialist)
  - [x] Evaluation Expert (ready to become part of Research & Evaluation Specialist)

#### Recently Completed ‚úÖ
- [x] **Technical Product Manager Creation**: Successfully implemented with GitHub integration, structured labeling system, and coordination protocols
- [x] **TPM Validation**: Demonstrated excellent issue coordination with hybrid master+subticket approach (Issues #4-7)
- [x] **Research & Evaluation Specialist Creation**: Successfully synthesized research methodology and evaluation frameworks into unified hybrid specialist (Sept 14, 2025)
- [x] **Full-Stack Technical Specialist Creation**: Successfully consolidated backend and frontend expertise into comprehensive technical specialist (Sept 14, 2025)
- [x] **Documentation Integration**: All project documentation updated to reflect current TPM-orchestrated state

#### Current Focus üéØ
**Current Priority: Continue Core Specialist Creation & Begin TPM-Orchestrated Development**

**Phase 2a: Core Specialist Creation (3/7 Complete)**
1. [x] Create Research & Evaluation Specialist (academic methodology + statistical analysis) ‚úÖ Completed Sept 14, 2025
2. [x] Create Full-Stack Technical Specialist (backend + frontend + infrastructure) ‚úÖ Completed Sept 14, 2025
3. [ ] Create Security & Performance Specialist (security + optimization + QA) - **Next Priority**
4. [ ] Begin coordinated TruthLens development work through TPM orchestration

**Phase 2b: Advanced Specialist Integration (Next 2-3 weeks)**
1. [ ] Validate multi-specialist coordination through TPM for real development tasks
2. [ ] Test hybrid advisory-implementation workflow with core specialist team
3. [ ] Optimize TPM coordination protocols based on practical development experience

**Phase 2c: Complete Team Assembly (Following 3-4 weeks)**
1. [ ] Create Product & UX Specialist (design + user research + implementation)
2. [ ] Create Business & Growth Specialist (strategy + marketing + growth implementation)
3. [ ] Create Data & Analytics Specialist (analytics + measurement + visualization)
4. [ ] Validate complete 7-agent hybrid team coordination

**Technical Development Steps (After Team Complete):**
- [ ] System architecture design with full specialist team input
- [ ] Development environment setup with coordinated specialist workflows
- [ ] Multi-LLM abstraction layer planning and implementation
- [ ] Core TruthLens functionality development through coordinated specialists

### Success Metrics for Current Phase
- **Team Coordination**: TPM successfully routes requests and coordinates specialist responses
- **Professional Objectivity**: Specialists challenge suboptimal approaches and provide alternatives
- **Implementation Capability**: Specialists deliver both strategic guidance AND working solutions
- **Documentation Quality**: All project knowledge stays current through TPM oversight
- **Development Velocity**: Hybrid approach increases TruthLens development speed vs. previous model

## Development Guidelines

### Code Quality Standards
- **TypeScript**: Strict mode, comprehensive type definitions
- **Python**: Type hints, docstrings, PEP 8 compliance
- **Testing**: Unit tests, integration tests, end-to-end tests
- **Documentation**: Inline comments, README files, API documentation
- **Security**: Input validation, secure API handling, privacy protection

### Performance Requirements
- **Response Time**: <3 seconds for fact-checking (target), <10 seconds (acceptable)
- **Accuracy**: >90% verification accuracy rate
- **Reliability**: 99.9% uptime target
- **Scalability**: Architecture supports 1M+ users without major rewrites

### Development Environment
- **Primary IDE**: Claude Code with specialized subagents
- **Version Control**: Git with conventional commits
- **Package Management**: pnpm for Node.js, Poetry for Python
- **Process Orchestration**: LangGraph for AI workflows
- **Testing**: Jest/Vitest for frontend, pytest for backend

## Testing Strategy

### Academic Validation
- Comparative analysis between Gemini and OpenAI implementations
- User study with 5-10 participants
- Quantitative evaluation on curated test dataset
- Performance benchmarking and optimization

### Production Readiness
- Cross-browser compatibility testing
- Website compatibility testing (90% success rate target)
- Load testing and performance optimization
- Security testing and vulnerability assessment
- User experience testing and optimization

## Deployment & Infrastructure

### Development Stack (Current)
- **Backend**: Python, LangGraph, FastAPI
- **Frontend**: TypeScript, React, Chrome Extension APIs
- **Database**: PostgreSQL with proper indexing
- **Caching**: Redis for performance optimization
- **APIs**: OpenAI, Google Gemini, Tavily Search
- **Hosting**: Fly.io (backend), Vercel (web), Chrome Web Store (extension)

### Scalability Preparation
- **Microservices**: Separate services for different components
- **Queue System**: Redis/BullMQ for async processing
- **CDN**: Global content delivery for static assets
- **Auto-scaling**: Kubernetes-ready container architecture
- **Monitoring**: Comprehensive logging and metrics collection

## Risk Management & Contingencies

### Technical Risks
- **API Rate Limits**: Multiple provider support, caching strategies
- **Performance Issues**: Comprehensive optimization and monitoring
- **Security Vulnerabilities**: Regular security audits and updates
- **Scaling Challenges**: Architecture designed for scale from start

### Business Risks
- **Competition**: Academic credibility and transparency as differentiators
- **User Adoption**: Focus on user experience and demonstrable value
- **Cost Management**: Efficient caching and rate limiting strategies
- **Platform Dependencies**: Multi-browser and multi-platform approach

## Communication & Collaboration

### With Claude Code
- Use Technical Product Manager as primary interface for all requests
- Leverage hybrid advisory-implementation specialists for both guidance and execution
- Technical PM maintains comprehensive documentation and specialist coordination
- Regular cross-specialist collaboration through Technical PM facilitation

### Documentation Standards
- Real-time updates to reflect current status
- Clear task assignments and completion criteria
- Comprehensive decision logging and rationale
- Regular review and refinement of strategies

---

## Quick Reference Commands

### Development
```bash
# Start development environment
pnpm dev

# Run all tests
pnpm test

# Build for production
pnpm build

# Type checking
pnpm type-check

# Linting
pnpm lint
```

### Database
```bash
# Generate migrations
pnpm db:generate

# Push schema changes
pnpm db:push

# Database studio
pnpm db:studio
```

---

## 7-Agent Hybrid Team Implementation Status

### Current Status: TPM Successfully Implemented, Core Specialist Creation Ready üéØ

**‚úÖ Strategic Foundation Phase Complete:**
- **Complete Strategic Realignment**: Successfully evolved from 15-agent advisory model to optimized 7-agent hybrid approach
- **Comprehensive Documentation**: All strategic documents updated and aligned with hybrid advisory-implementation model
- **Professional Objectivity Framework**: Validated approach for specialists to challenge user ideas respectfully and implement better alternatives
- **Technical Product Manager Specification**: Detailed blueprint for primary orchestrator role ready for implementation

### Team Architecture Overview

**üéØ Technical Product Manager** (‚úÖ COMPLETED)
- **Role**: Primary orchestrator and user interface for all TruthLens development
- **Capabilities**: GitHub project management, specialist coordination, documentation oversight, strategic synthesis
- **Status**: Successfully implemented with structured labeling system, GitHub integration, and proven coordination capabilities

**Hybrid Advisory-Implementation Specialists:**

| Specialist | Status | Components | Readiness |
|------------|--------|------------|----------|
| **üî¨ Research & Evaluation** | ‚úÖ COMPLETED | Research Expert + Evaluation Expert ‚Üí Unified Specialist | ‚úÖ Sept 14, 2025 |
| **üèóÔ∏è Full-Stack Technical** | ‚úÖ COMPLETED | Backend Expert + Extension Expert + DevOps ‚Üí Unified Specialist | ‚úÖ Sept 14, 2025 |
| **üõ°Ô∏è Security & Performance** | Creation Needed | Security + Performance + QA capabilities | üìù Next Priority |
| **üé® Product & UX** | Creation Needed | Design + UX research + interface implementation | üìù Planned |
| **üöÄ Business & Growth** | Creation Needed | Strategy + marketing + growth implementation | üìù Planned |
| **üìä Data & Analytics** | Creation Needed | Analytics + measurement + visualization | üìù Planned |

### Implementation Roadmap

**‚úÖ COMPLETED: Core Team Foundation (Sept 9-14, 2025)**
- ‚úÖ Created Technical Product Manager with comprehensive GitHub integration and coordination protocols
- ‚úÖ Successfully transformed and unified Research & Evaluation specialists into single hybrid agent
- ‚úÖ Successfully consolidated Backend + Extension expertise into unified Full-Stack Technical specialist
- ‚úÖ Validated TPM coordination protocols and GitHub issue management workflows

**üéØ CURRENT WEEK: Continue Core Specialist Creation**
- Create Security & Performance Specialist (consolidating security + performance + QA capabilities)
- Test multi-specialist coordination through TPM with 3+ agents
- Begin initial TruthLens technical architecture work with existing specialists

**üìÖ Next 2-3 Weeks: Advanced Team Assembly**
- Create Product & UX Specialist (design + user research + interface implementation)
- Create Business & Growth Specialist (strategy + marketing + growth implementation)
- Create Data & Analytics Specialist (analytics + measurement + visualization)
- Validate complete 7-agent team coordination and begin full TruthLens development

### Success Validation Criteria

**Technical Product Manager Effectiveness:**
- [x] Successfully routes user requests to appropriate specialists
- [x] Creates well-scoped GitHub issues with clear acceptance criteria
- [x] Coordinates multi-specialist work without conflicts
- [x] Maintains current documentation across all project areas

**Hybrid Specialist Performance:**
- [x] Each specialist challenges suboptimal user approaches respectfully (validated with R&E and Full-Stack specialists)
- [x] Specialists provide both strategic alternatives AND implementation solutions (proven through specification creation)
- [x] Educational value: User technical understanding improves through specialist guidance (demonstrated in creation process)
- [x] Implementation quality: Specialists deliver working TruthLens components (ready for technical implementation)

**Team Coordination Quality:**
- [ ] Cross-specialist collaboration produces better solutions than individual work
- [ ] No coordination confusion or duplicate work between specialists
- [ ] Decision documentation maintains comprehensive project knowledge
- [ ] Development velocity increases compared to previous approach

---

### Next Milestone: Security & Performance Specialist Creation

**Immediate Goal**: Create Security & Performance Specialist to complete core implementation team
**Success Metric**: Third hybrid specialist successfully created with full advisory-implementation capabilities
**Timeline**: Next 1-2 days completion
**Dependencies**: Security and performance domain expertise consolidation

*Last updated: 2025-09-14*  
*Current milestone: 3 of 7 hybrid specialists successfully created (43% team completion)*  
*Strategic documents: Complete and aligned with 7-agent hybrid model*  
*Team readiness: TPM operational, R&E and Full-Stack specialists ready for coordination*